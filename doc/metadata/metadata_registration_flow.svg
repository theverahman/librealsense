<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1182" height="735"><source><![CDATA[title: RS4xx - Registration for metadata attributes
Participant C++ main
Participant rs2_context
Participant rs2_device
Participant rs2_metadata_handler
Participant OS
Participant Device
Device->OS: new device found
Note over OS: device is enumerated
Note over OS,C++ main: ..........      system is in idle state  ...............
Note over C++ main: Librealsense2 is started
C++ main->rs2_context: create context
rs2_context-->C++ main:
rs2_context->OS: Query connected devices
OS-->C++ main: List of device info
C++ main->rs2_device: create rs4xx object
rs2_device->rs2_device: ctor: register for metadata
rs2_device->rs2_metadata_handler: ctor: Instantiate handler
rs2_metadata_handler-->rs2_device:
rs2_device->rs2_device: ctor: map handler to an attribute
rs2_device-->C++ main:
Note over C++ main: device with metadata support is ready]]></source><desc>RS4xx - Registration for metadata attributes</desc><defs><marker id="markerArrowBlock" markerHeight="5" markerWidth="5" orient="auto" refX="5" refY="2.5" viewBox="0 0 5 5"><path d="M 0 0 L 5 2.5 L 0 5 z"/></marker><marker id="markerArrowOpen" markerHeight="16" markerWidth="4" orient="auto" refX="9.6" refY="8" viewBox="0 0 9.6 16"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"/></marker></defs><g class="title"><rect width="397.063" height="29" x="10" y="10" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="15" y="30" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="15">RS4xx - Registration for metadata attributes</tspan></text></g><g class="actor"><rect width="90.375" height="39" x="132.656" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="142.656" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="142.656">C++ main</tspan></text></g><g class="actor"><rect width="90.375" height="39" x="132.656" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="142.656" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="142.656">C++ main</tspan></text></g><line x1="177.844" x2="177.844" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="actor"><rect width="116.766" height="39" x="297.305" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="307.305" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="307.305">rs2_context</tspan></text></g><g class="actor"><rect width="116.766" height="39" x="297.305" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="307.305" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="307.305">rs2_context</tspan></text></g><line x1="355.688" x2="355.688" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="actor"><rect width="108.172" height="39" x="434.07" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="444.07" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="444.07">rs2_device</tspan></text></g><g class="actor"><rect width="108.172" height="39" x="434.07" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="444.07" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="444.07">rs2_device</tspan></text></g><line x1="488.156" x2="488.156" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="actor"><rect width="196.141" height="39" x="720.586" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="730.586" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="730.586">rs2_metadata_handler</tspan></text></g><g class="actor"><rect width="196.141" height="39" x="720.586" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="730.586" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="730.586">rs2_metadata_handler</tspan></text></g><line x1="818.656" x2="818.656" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="actor"><rect width="37.797" height="39" x="936.727" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="946.727" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="946.727">OS</tspan></text></g><g class="actor"><rect width="37.797" height="39" x="936.727" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="946.727" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="946.727">OS</tspan></text></g><line x1="955.625" x2="955.625" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="actor"><rect width="72.984" height="39" x="1079.883" y="49" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="1089.883" y="74" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="1089.883">Device</tspan></text></g><g class="actor"><rect width="72.984" height="39" x="1079.883" y="676" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="1089.883" y="701" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="1089.883">Device</tspan></text></g><line x1="1116.375" x2="1116.375" y1="88" y2="676" fill="none" stroke="#000" style="stroke-width:2"/><g class="signal"><text x="965.625" y="118.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="965.625">new device found</tspan></text><line x1="1116.375" x2="955.625" y1="127" y2="127" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="note"><rect width="185.938" height="29" x="862.656" y="147" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="867.656" y="167" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="867.656">device is enumerated</tspan></text></g><g class="note"><rect width="797.781" height="29" x="167.844" y="196" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="172.844" y="216" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="172.844">.......... system is in idle state ...............</tspan></text></g><g class="note"><rect width="221.125" height="29" x="67.281" y="245" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="72.281" y="265" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="72.281">Librealsense2 is started</tspan></text></g><g class="signal"><text x="205.188" y="304.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="205.188">create context</tspan></text><line x1="177.844" x2="355.688" y1="313" y2="313" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><line x1="355.688" x2="177.844" y1="333" y2="333" fill="none" stroke="#000" style="stroke-width:2;stroke-dasharray:6,2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="554.492" y="363.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="554.492">Query connected devices</tspan></text><line x1="355.688" x2="955.625" y1="372" y2="372" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="483.063" y="402.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="483.063">List of device info</tspan></text><line x1="955.625" x2="177.844" y1="411" y2="411" fill="none" stroke="#000" style="stroke-width:2;stroke-dasharray:6,2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="249.43" y="441.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="249.43">create rs4xx object</tspan></text><line x1="177.844" x2="488.156" y1="450" y2="450" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="513.156" y="484.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="513.156">ctor: register for metadata</tspan></text><line x1="488.156" x2="508.156" y1="470" y2="470" fill="none" stroke="#000" style="stroke-width:2"/><line x1="508.156" x2="508.156" y1="470" y2="494" fill="none" stroke="#000" style="stroke-width:2"/><line x1="508.156" x2="488.156" y1="494" y2="494" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="543.344" y="519.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="543.344">ctor: Instantiate handler</tspan></text><line x1="488.156" x2="818.656" y1="528" y2="528" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><line x1="818.656" x2="488.156" y1="548" y2="548" fill="none" stroke="#000" style="stroke-width:2;stroke-dasharray:6,2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><text x="513.156" y="582.5" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="513.156">ctor: map handler to an attribute</tspan></text><line x1="488.156" x2="508.156" y1="568" y2="568" fill="none" stroke="#000" style="stroke-width:2"/><line x1="508.156" x2="508.156" y1="568" y2="592" fill="none" stroke="#000" style="stroke-width:2"/><line x1="508.156" x2="488.156" y1="592" y2="592" fill="none" stroke="#000" style="stroke-width:2;marker-end:url(#markerArrowBlock)"/></g><g class="signal"><line x1="488.156" x2="177.844" y1="607" y2="607" fill="none" stroke="#000" style="stroke-width:2;stroke-dasharray:6,2;marker-end:url(#markerArrowBlock)"/></g><g class="note"><rect width="335.688" height="29" x="10" y="627" fill="#fff" stroke="#000" style="stroke-width:2"/><text x="15" y="647" style="font-size:16px;font-family:&quot;Andale Mono&quot;,monospace"><tspan x="15">device with metadata support is ready</tspan></text></g></svg>